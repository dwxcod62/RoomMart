window.FrontEnd || (window.FrontEnd = {});
window.FrontEnd.Reference || (window.FrontEnd.Reference = {});
window.FrontEnd.Reference.LoadedJs = [];
window.FrontEnd.Reference.LoadJs = function(n) {
    return new Promise(function(t) {
        for (var r, u = [], i = 0; i < n.length; i++) window.FrontEnd.Reference.LoadedJs.filter(t => t == n[i]).length > 0 || (r = document.createElement("script"), i == n.length - 1 && (r.onload = function() {
            u.forEach(function(n) {
                window.FrontEnd.Reference.LoadedJs.push(n)
            });
            t()
        }), r.async = !0, r.src = n[i], u.push(n[i]), document.body.appendChild(r))
    })
};
window.FrontEnd.Reference.AddJs = function(n) {
    function u() {
        n.type == "seen" || document.querySelectorAll(n.selecters).forEach(function(t) {
            t.removeEventListener(n.type, i)
        })
    }

    function f(t) {
        if (t.target) {
            var i;
            document.createEvent ? (i = document.createEvent("HTMLEvents"), i.initEvent(n.type, !0, !0), i.eventName = n.type, t.target.dispatchEvent(i)) : (i = document.createEventObject(), i.eventName = n.type, i.eventType = n.type, t.target.fireEvent("on" + i.eventType, i))
        }
    }

    function i(t) {
        var e, i, r;
        if (n.srcs && n.srcs.length)
            for (e = [], i = 0; i < n.srcs.length; i++) window.FrontEnd.Reference.LoadedJs.filter(t => t == n.srcs[i]).length > 0 || (r = document.createElement("script"), i == n.srcs.length - 1 && (r.onload = function() {
                if (n.postCallFuncs && n.postCallFuncs.length)
                    for (var i = 0; i < n.postCallFuncs.length; i++) n.postCallFuncs[i]();
                n.type == "seen" || f(t);
                e.forEach(function(n) {
                    window.FrontEnd.Reference.LoadedJs.push(n)
                })
            }), r.async = !0, r.src = n.srcs[i], e.push(n.srcs[i]), document.body.appendChild(r));
        u()
    }
    var t, r;
    if (n.preCallFuncs && n.preCallFuncs.length)
        for (t = 0; t < n.preCallFuncs.length; t++) n.preCallFuncs[t]();
    n.selecters && n.type && (n.type == "seen" ? (r = new IntersectionObserver(function(t) {
        t.forEach(t => {
            t.isIntersecting && (i(), document.querySelectorAll(n.selecters).forEach(function(n) {
                r.unobserve(n)
            }))
        })
    }), document.querySelectorAll(n.selecters).forEach(function(n) {
        r.observe(n)
    })) : document.querySelectorAll(n.selecters).forEach(function(t) {
        t.addEventListener(n.type, i)
    }))
};
window.FrontEnd || (window.FrontEnd = {});
FrontEnd.ListingSearchFilterSelectionController = function(n, t = {}) {
    function lr() {
        u.style.display = "none"
    }

    function ar() {
        u.removeAttribute("style")
    }

    function nt(n, t) {
        return t || (t = {}), n && n.detail && n.detail.data && (t = n.detail.data), Promise.all(ft.map(i => i(n, t)))
    }

    function vr(n) {
        return Promise.all(si.map(t => t(n)))
    }

    function yr(n) {
        return v(), document.body.classList.add("loading-body"), Promise.all(hi.map(t => t(n)))
    }

    function pr(n) {
        return Promise.all(ci.map(t => t(n)))
    }

    function wr() {
        var n = li(b.value || "") + "";
        r.querySelectorAll(`.${i.OPTION}`).forEach(function(t) {
            var i = li(t.textContent.trim() || "") + "";
            t.style.display = i.toLowerCase().indexOf(n.toLowerCase()) >= 0 ? "block" : "none"
        });
        r.querySelectorAll(`.${i.OPTION_GROUP}`).forEach(function(n) {
            var t = n.getAttribute("data-group-id"),
                f = u.querySelectorAll(`.${i.OPTION_GROUP_ELEMENT(t)}:not([style*="display:none"]):not([style*="display: none"])`);
            f.length > 0 ? (n.classList.remove("re__title-hidden"), n.classList.remove("re__title-first")) : n.classList.add("re__title-hidden");
            r.querySelectorAll(`.${i.OPTION_GROUP}:not(.re__title-hidden)`).length > 0 && r.querySelectorAll(`.${i.OPTION_GROUP}:not(.re__title-hidden)`)[0].classList.add("re__title-first")
        })
    }

    function li(n) {
        for (var r, u, i = ["aàảãáạăằẳẵắặâầẩẫấậ", "AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬ", "dđ", "DĐ", "eèẻẽéẹêềểễếệ", "EÈẺẼÉẸÊỀỂỄẾỆ", "iìỉĩíị", "IÌỈĨÍỊ", "oòỏõóọôồổỗốộơờởỡớợ", "OÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢ", "uùủũúụưừửữứự", "UÙỦŨÚỤƯỪỬỮỨỰ", "yỳỷỹýỵ", "YỲỶỸÝỴ"], t = 0; t < i.length; t++) r = new RegExp("[" + i[t].substr(1) + "]", "g"), u = i[t][0], n = n.replace(r, u);
        return n
    }

    function ai(n) {
        if (n.target && n.target.value) {
            var t = +n.target.value,
                i = +n.target.getAttribute("min"),
                r = +n.target.getAttribute("max");
            t < i && (t = i);
            t > r && (t = r);
            n.target.value = t
        } else n.target.value = ""
    }

    function vi(n) {
        var t = function(n) {
                var t = "",
                    r = e ? +e.getAttribute("data-unit") : NaN,
                    i;
                return n[0] ? n[1] ? n[0] && n[1] && (i = JSON.stringify(n).trim(), t = i.substr(1, i.length - 2).replace(",", " - ")) : (i = JSON.stringify(n.reverse()).trim(), r == s.M2 ? t = i.substr(1, i.length - 2).replace("null,", "> ") : (r == s.TRIEU_DONG || r == s.TRIEU_DONG_PER_M2) && (t = i.substr(1, i.length - 2).replace("null,", "≥ ")), n.reverse()) : (i = JSON.stringify(n).trim(), r == s.M2 ? t = i.substr(1, i.length - 2).replace("null,", "≤ ") : (r == s.TRIEU_DONG || r == s.TRIEU_DONG_PER_M2) && (t = i.substr(1, i.length - 2).replace("null,", "< "))), t ? r == s.M2 ? t + " m²" : r == s.TRIEU_DONG ? (t = t.replace("000 -", " tỷ -").replace("00 -", "00 triệu -").replace("0 -", "0 triệu -"), t.endsWith("000") ? t = t.substr(0, t.length - 3) + " tỷ" : t.endsWith("00") ? t += " triệu" : t.endsWith("0") && (t += " triệu"), t.endsWith("tỷ") && t.indexOf("tỷ -") >= 0 && (t = t.replace("tỷ -", "-")), t.endsWith("triệu") && t.indexOf("triệu -") >= 0 && (t = t.replace("triệu -", "-")), t) : r == s.TRIEU_DONG_PER_M2 ? t + " triệu/m²" : t : void 0
            }(n),
            u = null;
        return t && r.querySelectorAll(`.${i.OPTION}`).forEach(n => {
            n.textContent.trim() == t && (u = n.value)
        }), u
    }

    function yi() {
        var t = +p.value,
            i = +w.value,
            r = [],
            u;
        t || i ? (r = t && i ? i > t ? [t, i] : [i, t] : [t ? +t : null, i ? +i : null], u = vi(r), n.value = u ? u : JSON.stringify(r)) : n.value = "";
        n.dispatchEvent(new CustomEvent("change", {
            bubbles: !0,
            detail: {
                data: {
                    ignoreUpdateSliderInput: !0
                }
            }
        }));
        pi()
    }

    function br(t, i) {
        if (i.values[0] === i.values[1]) return !1;
        var r = vi(i.values);
        n.value = r ? r : JSON.stringify(i.values);
        n.dispatchEvent(new Event("change", {
            bubbles: !0
        }))
    }

    function pi() {
        if (a && k) {
            let r = e ? +e.getAttribute("data-unit") : NaN,
                i = r === s.M2,
                n = +p.value,
                t = +w.value;
            if (n && t) {
                let r = i ? `${o(n)} m²` : yt(+n),
                    u = i ? `${o(t)} m²` : yt(+t);
                a.innerHTML = `Từ: <span>${r}</span>`;
                k.innerHTML = `Đến: <span>${u}</span>`
            } else if (n) {
                let t = i ? `${o(n)} m²` : yt(+n);
                a.innerHTML = `Từ: <span>${t}</span>`;
                k.innerHTML = `Đến:`
            } else if (t) {
                let u = i ? `${o(t)} m²` : yt(+t);
                a.innerHTML = n === 0 ? `Từ: <span>${i?`0 m²`:`0 ${r===s.TRIEU_DONG?"triệu":"triệu/m²"}`}</span>` : `Từ:`;
                k.innerHTML = `Đến: <span>${u}</span>`
            } else a.innerHTML = hr, k.innerHTML = cr
        }
    }

    function yt(n, t) {
        const i = e ? +e.getAttribute("data-unit") : NaN;
        if (n > 0) {
            if (n >= 1e3) {
                const r = i === s.TRIEU_DONG ? "tỷ" : "tỷ/m²";
                return t ? `${o(wi(n/1e3,2))} ${r}` : `${o(n/1e3)} ${r}`
            }
            const r = i === s.TRIEU_DONG ? "triệu" : "triệu/m²";
            return t ? `${o(wi(n,2))} ${r}` : `${o(n)} ${r}`
        }
        return "0 đồng"
    }

    function wi(n, t) {
        return n ? Math.round(n * Math.pow(10, t)) / Math.pow(10, t) : 0
    }

    function o(n) {
        if (n != null && n != undefined) {
            let i = new Intl.NumberFormat("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    maximumFractionDigits: 2
                }).format(n),
                r = i.length - 2,
                t = i.substring(0, r);
            return t.includes(",00") ? t.Replace(",00", string.Empty) : (t.includes(",") && t.slice(-1) == "0" && (t = t.substring(0, t.Length - 1)), t)
        }
        return "0"
    }

    function bi() {
        const n = document.querySelector(`.${i.FIX}`),
            t = document.querySelector(`.${i.DROPDOWN_SHOW_FADE_IN}`),
            r = g && g.querySelector(`.${i.SWIPER_WRAPPER}`),
            u = g.querySelector(`.${i.SWIPER_WRAPPER}`);
        if (n && n.classList.add("addPaddingRight"), g) {
            const n = document.createElement("div");
            n.classList.add(i.OVERLAY);
            document.querySelector(`.${i.OVERLAY}`) || g.appendChild(n);
            kt ? document.body.classList.add(i.NO_SCROLL_MAC) : document.body.classList.add(i.NO_SCROLL);
            t && r && u.classList.add(i.DISABLE_SWIPER)
        }
        ct || ni(1)
    }

    function kr() {
        const n = document.querySelector(`.${i.FIX}`),
            t = document.querySelector(`.${i.OVERLAY}`),
            r = g.querySelector(`.${i.SWIPER_WRAPPER}`),
            u = f && f.classList.contains(i.DROPDOWN_SHOW_FADE_IN);
        u || (n && n.classList.remove("addPaddingRight"), r.classList.remove(i.DISABLE_SWIPER), kt ? document.body.classList.remove(i.NO_SCROLL_MAC) : document.body.classList.remove(i.NO_SCROLL), t && t.remove());
        ct || ni()
    }

    function ni(n = 0) {
        const s = kt ? 15 : 17,
            r = document.body.querySelector(`#${i.RIGHT_BANNER}`),
            u = document.body.querySelector(`#${i.LEFT_BANNER}`),
            f = document.body.querySelector(`.${i.CHAT_CONTAINER}`),
            e = document.body.querySelector(`.${i.FEED_BACK}`),
            t = document.body.querySelector(`#${i.FORM}`),
            o = document.body.querySelector(`#${i.GO_TO_TOP}`);
        let h = document.body.getAttribute("isAdjustedContentFlow");
        const c = r && window.getComputedStyle(r, null).getPropertyValue("left"),
            l = u && window.getComputedStyle(u, null).getPropertyValue("left"),
            a = f && window.getComputedStyle(f, null).getPropertyValue("right"),
            v = e && window.getComputedStyle(e, null).getPropertyValue("right"),
            y = t && window.getComputedStyle(t, null).getPropertyValue("width"),
            p = o && window.getComputedStyle(o, null).getPropertyValue("right");
        if (n)
            if (h === "false") r && r.style.setProperty("left", `${Number(c.replace("px",""))-8.5}px`, "important"), u && u.style.setProperty("left", `${Number(l.replace("px",""))-8.5}px`, "important"), f && f.style.setProperty("right", `${Number(a.replace("px",""))+s}px`, "important"), e && e.style.setProperty("right", `${Number(v.replace("px",""))+s}px`, "important"), o && o.style.setProperty("right", `${Number(p.replace("px",""))+s}px`, "important"), ct && t && (t.style.setProperty("width", `${Number(y.replace("px",""))-s}px`, "important"), t.style.setProperty("transition", "", "")), document.body.setAttribute("isAdjustedContentFlow", !0);
            else return;
        else r && r.style.setProperty("left", null, ""), u && u.style.setProperty("left", null, ""), f && f.style.setProperty("right", null, ""), e && e.style.setProperty("right", null, ""), o && o.style.setProperty("right", null, ""), ct && t && (t && t.style.setProperty("width", null, ""), t.style.setProperty("transition", null, "")), document.body.setAttribute("isAdjustedContentFlow", !1)
    }

    function ki() {
        if (u.classList.add(i.ACTIVE_MENU), h && f.classList.add(i.DROPDOWN_SHOW), h || f.classList.add(i.DROPDOWN_SHOW_FADE_IN), bi(), dr(f), c) {
            const n = et.split(";"),
                t = c && Array.from(c.querySelectorAll(`.${i.PIE_SEGMENT}`)),
                r = c && Array.from(c.querySelectorAll(`.${i.PIE_CHART_OPTION}`));
            t.map(n => n.classList.remove("pieSegment-selected"));
            r.map(n => n.classList.remove("text-selected", "re__checked"));
            n.map(n => {
                c.querySelector(`.${i.PIE_SEGMENT}[value="${Number(n)}"]`) && c.querySelector(`.${i.PIE_SEGMENT}[value="${Number(n)}"]`).classList.add("pieSegment-selected"), c.querySelector(`.${i.PIE_CHART_OPTION}[value="${Number(n)}"]`) && c.querySelector(`.${i.PIE_CHART_OPTION}[value="${Number(n)}"]`).classList.add("text-selected", "re__checked")
            })
        }
        r.querySelectorAll(`.mCSB_container`).length == 1 ? r.mCustomScrollbar() : r.mCustomScrollbar();
        t.defaultScroll || setTimeout(function() {
            window.scrollServices.disableScroll()
        }, 20);
        setTimeout(function() {
            document.body.addEventListener("click", pt)
        }, 10)
    }

    function pt(n) {
        const t = n.target.classList.contains(i.OVERLAY);
        if (t) {
            v();
            return
        }
        const r = n.target.parentElement.classList.contains(i.CONTAINER) || n.target.parentElement.classList.contains(i.BUTTON),
            f = n.target.classList.contains(i.SELECT_HEADER) || n.target.parentElement.parentElement.parentElement.classList.contains(i.SELECT_HEADER);
        u.contains(n.target) ? (n.preventDefault(), n.stopPropagation()) : (v(), (r || f) && bi(), document.body.removeEventListener("click", pt))
    }

    function dr(n) {
        const r = h && document.querySelectorAll(".search-filter");
        let i;
        r && r.forEach(n => {
            window.getComputedStyle(n, null).getPropertyValue("display") !== "none" && (i = n)
        });
        const u = i && i.getBoundingClientRect().right,
            t = n.getBoundingClientRect().right;
        oi < t && !h && (n.style.left = `${innerWidth-t-25}px`);
        h && t > u && n.style.left < 1 && (n.style.left = `-${t-u}px`)
    }

    function v() {
        if (u.classList.remove(i.ACTIVE_MENU), et !== n.value && wt(et), dt && (b.value = "", b.dispatchEvent(new Event("keyup"))), t.defaultScroll || window.scrollServices.enableScroll(), h && f.classList.remove(i.DROPDOWN_SHOW), h || f.classList.remove(i.DROPDOWN_SHOW_FADE_IN), kr(), lt) {
            var r = n.value;
            r.startsWith("[") && (r = JSON.parse(r), p.value = r[0], w.value = r[1])
        }
        document.body.removeEventListener("click", pt)
    }

    function gr() {
        u.classList.remove(i.ACTIVE_MENU);
        ni(0);
        const e = st();
        if (d.innerHTML = ri(e), dt && (b.value = "", b.dispatchEvent(new Event("keyup"))), t.defaultScroll || window.scrollServices.enableScroll(), f.classList.remove(i.DROPDOWN_SHOW), lt) {
            var r = n.value;
            r.startsWith("[") && (r = JSON.parse(r), p.value = r[0], w.value = r[1])
        }
        document.body.removeEventListener("click", pt)
    }

    function nu() {
        var r = n.value,
            i = st(),
            t;
        sr && (t = tu(), t && fi.setAttribute("class", t.replace("--sm", "")));
        r ? (i && l.setAttribute("aria-label", rr(i)), h && (y.classList.add("re__has-value"), d.classList.add("hasvalue"))) : (l.removeAttribute("aria-label"), h && (y.classList.remove("re__has-value"), d.classList.remove("hasvalue")))
    }

    function tu() {
        function c(n) {
            for (var r = f.querySelectorAll(`li.${i.OPTION}`), t = 0; t < r.length; t++)
                if (r[t].getAttribute("value") == n) return r[t];
            return undefined
        }
        var u = "",
            s = n.value,
            o, e, h, t;
        if (s)
            for (o = s.split(";"), e = 0; e < o.length; e++) h = o[e], t = c(h), t && t.querySelector("i") ? u = t.querySelector("i").getAttribute("class") : t && t.parentElement && t.parentElement.parentElement && r.contains(t.parentElement.parentElement) && t.parentElement.parentElement.querySelector("i") && (u = t.parentElement.parentElement.querySelector("i").getAttribute("class"));
        else f.querySelector(`li.${i.OPTION}:not([value])`) && f.querySelector(`li.${i.OPTION}:not([value])`).querySelector("i") && (u = f.querySelector(`li.${i.OPTION}:not([value])`).querySelector("i").getAttribute("class"));
        return u
    }

    function iu() {
        var u = n.value,
            t, f, s, e, h, o;
        if (ut()) {
            if (t = u.split(";"), r.querySelectorAll("li").forEach(n => n.classList.remove(i.OPTION_ACTIVED)), r.querySelectorAll("li").forEach(n => n.classList.remove(i.OPTION_CHECKED)), t.forEach(n => {
                    if (r.querySelector(`li.${i.OPTION}[value="${n}"]`)) {
                        r.querySelector(`li.${i.OPTION}[value="${n}"]`).classList.add(i.OPTION_CHECKED);
                        var t = r.querySelector(`li.${i.OPTION}[value="${n}"]`).querySelectorAll("ul");
                        t.length && t.forEach(n => {
                            n.querySelectorAll(`li.${i.OPTION}`).forEach(n => n.classList.add(i.OPTION_CHECKED))
                        })
                    }
                }), r.querySelectorAll(`li.${i.OPTION}:not([value])`).length && (f = gi(), t.length == f.length)) {
                for (s = !0, e = 0; e < f.length; e++)
                    if (h = f[e], t.indexOf(h) < 0) {
                        s = !1;
                        break
                    }
                s && r.querySelector(`li.${i.OPTION}:not([value])`).classList.add(i.OPTION_CHECKED)
            }
            u.indexOf("_") >= 0 && (o = [], t.map(n => n.split("_")[1]).forEach(function(n) {
                o.indexOf(n) < 0 && o.push(n)
            }), o.forEach(function(n) {
                for (var s, f, e = !0, o = r.querySelectorAll(`li.${i.OPTION_GROUP_ELEMENT(n)}`), u = 0; u < o.length; u++)
                    if (s = o[u], f = s.getAttribute("value"), !f.startsWith("_") && t.indexOf(f) < 0) {
                        e = !1;
                        break
                    }
                e && r.querySelectorAll(`li.${i.OPTION}[value="_${n}"]`).forEach(n => n.classList.add(i.OPTION_CHECKED))
            }))
        } else r.querySelectorAll("li").forEach(n => n.classList.remove(i.OPTION_ACTIVED)), r.querySelectorAll("li").forEach(n => n.classList.remove(i.OPTION_CHECKED)), u ? u.startsWith("[") || r.querySelectorAll(`li.${i.OPTION}[value="${u}"]`).forEach(n => n.classList.add(i.OPTION_ACTIVED)) : r.querySelectorAll(`li.${i.OPTION}:not([value])`).forEach(n => n.classList.add(i.OPTION_ACTIVED))
    }

    function di(n) {
        var t = e ? +e.getAttribute("data-unit") : NaN;
        if (t == s.M2) {
            if (n = n.replace("m²", ""), n.indexOf("Dưới") >= 0) return JSON.parse(`[${n.replace("Dưới","null,")}]`);
            if (n.indexOf("≤") >= 0) return JSON.parse(`[${n.replace("≤","null,")}]`);
            if (n.indexOf("Dưới") >= 0) return JSON.parse(`[${n.replace("Dưới","null,")}]`);
            if (n.indexOf(">") >= 0) return JSON.parse(`[${n.replace(">","null,")}]`).reverse();
            if (n.indexOf("Trên") >= 0) return JSON.parse(`[${n.replace("Trên","null,")}]`);
            if (n.indexOf("-") >= 0) return JSON.parse(`[${n.replace("-",",")}]`)
        } else if (t == s.TRIEU_DONG) {
            if (n.indexOf("<") >= 0) return JSON.parse(`[${n.replace(" tỷ","000").replace(" triệu","").replace("<","null,")}]`);
            if (n.indexOf("Dưới") >= 0) return JSON.parse(`[${n.replace(" tỷ","000").replace(" triệu","").replace("Dưới","null,")}]`);
            if (n.indexOf("Trên") >= 0) return JSON.parse(`[${n.replace("Trên","≥").replace(" tỷ","000").replace(" triệu","").replace("≥","null,")}]`).reverse();
            if (n.indexOf("≥") >= 0) return JSON.parse(`[${n.replace(" tỷ","000").replace(" triệu","").replace("≥","null,")}]`).reverse();
            if (n.indexOf("Trên") >= 0) return JSON.parse(`[${n.replace(" tỷ","000").replace(" triệu","").replace("Trên","null,")}]`).reverse();
            if (n.indexOf("triệu") >= 0 && n.indexOf("tỷ") >= 0) return JSON.parse(`[${n.replace(" tỷ","000").replace(" triệu","").replace("-",",")}]`);
            if (n.indexOf("triệu") >= 0 && n.indexOf("tỷ") >= -1) return JSON.parse(`[${n.replace(" triệu","").replace("-",",")}]`);
            if (n.indexOf("triệu") >= -1 && n.indexOf("tỷ") >= 0) return JSON.parse(`[${n.replace(" tỷ","").replace("-",",")}]`).map(n => n * 1e3)
        } else if (t == s.TRIEU_DONG_PER_M2) {
            if (n = n.replace(" triệu/m²", ""), n.indexOf("<") >= 0) return JSON.parse(`[${n.replace("<","null,")}]`);
            if (n.indexOf("Dưới") >= 0) return JSON.parse(`[${n.replace("Dưới","null,")}]`);
            if (n.indexOf("Trên") >= 0) return JSON.parse(`[${n.replace("Trên","null,")}]`).reverse();
            if (n.indexOf("≥") >= 0) return JSON.parse(`[${n.replace("≥","null,")}]`).reverse();
            if (n.indexOf("Trên") >= 0) return JSON.parse(`[${n.replace("Trên","null,")}]`).reverse();
            if (n.indexOf("-") >= 0) return JSON.parse(`[${n.replace("-",",")}]`)
        }
        return [null, null]
    }

    function ti() {
        r.querySelectorAll(`.${i.OPTION}`).forEach(n => {
            n.querySelectorAll("span").forEach(n => {
                n.addEventListener("click", ot)
            })
        });
        c && (pieSegment.forEach(n => {
            n.addEventListener("click", ot)
        }), pieTextOption.forEach(n => {
            n.addEventListener("click", ot), n.querySelectorAll("span").forEach(n => {
                n.removeEventListener("click", ot)
            })
        }))
    }

    function ru() {
        r.querySelectorAll(`.${i.OPTION}`).forEach(n => {
            n.querySelectorAll("span").forEach(n => {
                n.removeEventListener("click", ot)
            })
        })
    }

    function ot(t) {
        var p = t.currentTarget,
            a = p ? p.getAttribute("value") : "",
            w = p.parentElement,
            f = w ? w.getAttribute("value") : "",
            nt = n.value,
            y, u, k, s, b, o, e, d, l, g;
        if (ut()) {
            if (y = w.classList.contains(i.OPTION_CHECKED), u = nt.split(";"), f && !c) {
                if (f.startsWith("_")) k = f.substr(1), r.querySelectorAll(`li.${i.OPTION_GROUP_ELEMENT(+k)}`).forEach(function(n) {
                    var t = n.attributes.value ? n.attributes.value.value + "" : "";
                    t != f && (y ? u = u.filter(n => n != t) : u.indexOf(t) < 0 && u.push(t))
                });
                else if (y) u.indexOf(f) >= 0 ? u = u.filter(n => n != f) : (e = tr(f), u.indexOf(e) >= 0 && (u = u.filter(n => n != e), d = ii(e), d.forEach(function(n) {
                    n != f && u.push(n)
                })));
                else if (u.indexOf(f) == -1 && (u.push(f), ii(f).forEach(n => {
                        u = u.filter(t => t != n)
                    }), e = tr(f), e && e != "44")) {
                    for (s = ii(e), b = !0, o = 0; o < s.length; o++)
                        if (!r.querySelector(`li.${i.OPTION}[value="${s[o]}"]`).classList.contains(i.OPTION_CHECKED) && s[o] != f) {
                            b = !1;
                            break
                        }
                    if (b) {
                        for (o = 0; o < s.length; o++) u = u.filter(n => n != s[o]);
                        u.push(e)
                    }
                }
                if (at) {
                    for (l = !1; u.length > at;) u.pop(), l = !0;
                    l && nr()
                }
                n.value = u.filter(n => n).join(";")
            } else {
                if (at) {
                    for (l = !1; u.length > at;) u.pop(), l = !0;
                    l && nr()
                }
                g = gi();
                n.value = y ? "" : g.filter(n => n).join(";")
            }

            function t(t, i) {
                t.indexOf(i) === -1 ? (t.push(i), n.value = t.filter(n => n).join(";")) : (t = t.filter(n => n !== i), n.value = t.filter(n => n).join(";"))
            }(f || a) && c && (!f && a && t(u, a), f && !a && t(u, f));
            n.dispatchEvent(new CustomEvent("change", {
                bubbles: !0,
                detail: {
                    data: {
                        changeFromClickOption: !0
                    }
                }
            }));
            vt.forEach(n => {
                n()
            })
        } else n.value = f, n.dispatchEvent(new CustomEvent("change", {
            bubbles: !0,
            detail: {
                data: {
                    changeFromClickOption: !0
                }
            }
        })), vt.forEach(n => {
            n()
        }), h || v()
    }

    function gi() {
        var n = [];
        return r.querySelectorAll(`li.${i.OPTION}`).forEach(function(t) {
            if (!(t.getParent("ul") && t.getParent("ul").getParent("li"))) {
                var i = t ? t.getAttribute("value") : "";
                i && n.push(i)
            }
        }), n
    }

    function nr() {
        f.classList.add(i.MAX_CHECKED_OPTIONS_SHOW_ALERT);
        setTimeout(function() {
            f.classList.remove(i.MAX_CHECKED_OPTIONS_SHOW_ALERT)
        }, 2e3)
    }

    function tr(n) {
        var t = r.querySelector(`li.${i.OPTION}[value="${n}"]`).parentElement.parentElement;
        return t && t.nodeName == "LI" ? t.getAttribute("value") : null
    }

    function ii(n) {
        var t = [],
            u = r.querySelectorAll(`li.${i.OPTION}[value="${n}"] ul li`);
        return u && u.forEach(function(n) {
            var i = n.getAttribute("value");
            i && t.push(i)
        }), t
    }

    function wt(t) {
        return new Promise(function(u) {
            var f = "";
            t ? (ut() ? t.split(";").forEach(n => {
                r.querySelectorAll(`.${i.OPTION}[value="${n}"]`).length == 1 && (f ? f += `;${n}` : f = n)
            }) : t.startsWith("[") ? f = t : r.querySelectorAll(`.${i.OPTION}[value="${t}"]`).length == 1 && (f = t), n.value = f, nt().then(function() {
                u()
            })) : (n.value = null, n.dispatchEvent(new Event("change", {
                bubbles: !0
            })), nt().then(function() {
                u()
            }))
        })
    }

    function uu(t, u) {
        var f, e;
        u.ignoreUpdateSliderInput || (f = [null, null], n.value.startsWith("[") ? f = JSON.parse(n.value) : r.querySelector(`li.${i.OPTION}[value="${n.value}"]`) && (e = r.querySelector(`li.${i.OPTION}[value="${n.value}"]`).textContent.trim(), f = di(e)), p.value = f[0], w.value = f[1], pi())
    }

    function fu() {
        var t = [null, null],
            u;
        n.value.startsWith("[") ? t = JSON.parse(n.value) : r.querySelector(`li.${i.OPTION}[value="${n.value}"]`) && (u = r.querySelector(`li.${i.OPTION}[value="${n.value}"]`).textContent.trim(), t = di(u));
        t[0] = t[0] || +e.getAttribute("data-min");
        t[1] = t[1] || +e.getAttribute("data-max");
        t[0] > t[1] && t[0] != null && t[1] != null && t.reverse();
        t[0] == t[1] && (t[0] = t[0] - +e.getAttribute("data-step")),
            function f() {
                window && window.$ && window.$.fn.slider ? $(ht).slider("values", t) : setTimeout(function() {
                    f()
                }, 500)
            }()
    }

    function eu() {
        if (ut)
            if (n.value) {
                var t = n.value.split(";").length;
                t > 0 ? it.forEach(n => {
                    n.innerHTML = `Áp dụng ・ ${t} lựa chọn`
                }) : it.forEach(n => {
                    n.innerHTML = `Áp dụng`
                })
            } else it.forEach(n => {
                n.innerHTML = `Áp dụng`
            })
    }

    function ou(n, t = null) {
        r.querySelectorAll(`.mCSB_container`).length == 1 ? r.querySelector(`.mCSB_container`).innerHTML = n : r.innerHTML = n;
        wt(t);
        ti()
    }

    function su(n) {
        r.querySelectorAll(`.mCSB_container`).length == 1 ? r.querySelector(`.mCSB_container`).insertAdjacentHTML("beforeend", n) : r.insertAdjacentHTML("beforeend", n);
        ru();
        ti()
    }

    function hu() {
        return n.value
    }

    function cu() {
        return lt ? $(ht).slider("values") : []
    }

    function lu() {
        var n = [],
            t = [];
        return r.querySelectorAll(`.${i.OPTION}`).forEach(n => {
            n.querySelector("ul") && t.push(n)
        }), t.forEach(function(t) {
            var r = {
                parent: t.value + "",
                children: []
            };
            t.querySelectorAll(`.${i.OPTION}`).forEach(function(n) {
                r.children.push(n.value + "")
            });
            n.push(r)
        }), n
    }

    function st(t) {
        var i, v, l, f, w, a, b, y, p;
        if (t = t || !1, i = !h && !t ? et : n.value, v = e ? +e.getAttribute("data-unit") : NaN, i)
            if (i.startsWith("[")) {
                if (v == s.M2) return i = JSON.parse(i), i[0] ? i[1] ? [`${o(i[0])} - ${o(i[1])} m²`] : [`≥ ${o(i[0])} m²`] : [`≤ ${o(i[1])} m²`];
                if (v == s.TRIEU_DONG) return i = JSON.parse(i), i[0] ? i[1] ? (l = +i[0], f = +i[1], l >= 1e3 && f >= 1e3 ? [`${o(l/1e3)} - ${o(f/1e3)} tỷ`] : l < 1e3 && f >= 1e3 ? [`${l} triệu - ${o(f/1e3)} tỷ`] : [`${l} - ${f} triệu`]) : (l = +i[0], l >= 1e3 ? [`≥ ${o(l/1e3)} tỷ`] : [`≥ ${l} triệu`]) : (f = +i[1], f >= 1e3 ? [`≤ ${o(f/1e3)} tỷ`] : [`≤ ${f} triệu`]);
                if (v == s.TRIEU_DONG_PER_M2) return i = JSON.parse(i), i[0] ? i[1] ? [`${o(i[0])} - ${o(i[1])} triệu/m²`] : [`≥ ${o(i[0])} triệu/m²`] : [`≤ ${o(i[1])} triệu/m²`]
            } else {
                if (ut()) return a = (i + "").split(";"), b = lu(), b.forEach(function(n) {
                    a.indexOf(n.parent) >= 0 && (a = a.filter(t => n.children.indexOf(t) == -1))
                }), y = [], a.forEach(function(n) {
                    if (r.querySelector(`li[value="${n}"]`) && r.querySelector(`li[value="${n}"]`).querySelector("span")) {
                        var t = r.querySelector(`li[value="${n}"]`).querySelector("span").textContent.trim();
                        y.push(t)
                    }
                }), c && a.forEach(n => {
                    let t = c.querySelector(`div[value="${n}"]`);
                    y.push(t.querySelector("span").textContent)
                }), y;
                if (r.querySelector(`li[value="${i}"]`) && r.querySelector(`li[value="${i}"]`).querySelector("span")) return w = r.querySelector(`li[value="${i}"]`).querySelector("span").textContent.trim(), [w]
            }
        else return (p = u.getAttribute("data-default-value"), +p) ? [+p] : [p]
    }

    function au(n) {
        (function t() {
            window && window.$ && window.$.fn.slider ? $(ht).slider({
                min: n.minValue,
                max: n.maxValue,
                step: n.step,
                values: [n.minValue, n.maxValue]
            }) : setTimeout(function() {
                t()
            }, 500)
        })();
        e.setAttribute("data-min", n.minValue);
        e.setAttribute("data-max", n.maxValue);
        e.setAttribute("data-step", n.step);
        e.setAttribute("data-unit", n.unit)
    }

    function vu(n, t, i, r) {
        return n[t] ? `<li class="re__option js__option${r?` js__group-element-${r}`:""}" value="${n[t]}"><span>${n[i]}</span></li>` : `<li class="re__option js__option"><span>${n[i]}</span></li>`
    }

    function yu(n, t) {
        return `<li class="re__title js__group"${t?` data-group-id="${t}"`:""}>${n}</li>`
    }

    function tt(n) {
        ft.push(n)
    }

    function pu(n) {
        var t = ft.indexOf(n);
        t > 0 && (ft = ft.filter((n, i) => i != t))
    }

    function wu(n) {
        vt.push(n)
    }

    function bu(n) {
        si.push(n)
    }

    function ku() {
        return e.getAttribute("data-min")
    }

    function du() {
        return e.getAttribute("data-max")
    }

    function gu() {
        return e.getAttribute("data-step")
    }

    function nf(n) {
        hi.push(n)
    }

    function tf(n) {
        ci.push(n)
    }

    function rf(n) {
        u.classList.add(i.CONTAINER_BLOCK);
        gt = n;
        l.setAttribute("data-microtip-position", "top");
        l.setAttribute("role", "tooltip")
    }

    function uf() {
        u.classList.remove(i.CONTAINER_BLOCK);
        l.removeAttribute("aria-label");
        l.removeAttribute("data-microtip-position");
        l.removeAttribute("role");
        gt = ""
    }

    function ff() {
        l.setAttribute("aria-label", gt)
    }

    function ir() {
        l.removeAttribute("aria-label");
        y.removeEventListener("mouseout", ir)
    }

    function ef() {
        return d.textContent.trim()
    }

    function of () {
        u.setAttribute("data-multiple", !1);
        f.classList.remove(i.MULTIPLE);
        h && f.classList.add(i.SINGLE);
        nt()
    }

    function sf() {
        u.setAttribute("data-multiple", !0);
        f.classList.add(i.MULTIPLE);
        h && f.classList.remove(i.SINGLE);
        nt()
    }

    function hf() {
        ui.setAttribute("style", "display: none")
    }

    function cf() {
        ui.removeAttribute("style")
    }

    function lf(n) {
        u.setAttribute("default-value", n);
        h && (d.textContent = n, ur.textContent = n)
    }

    function af(n) {
        var t = st();
        return t.length > n ? t.reverse().slice(0, n).join(", ") + "..." : ri(t)
    }

    function o(n) {
        if (n != null && n != undefined) {
            let i = new Intl.NumberFormat("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    maximumFractionDigits: 2
                }).format(n),
                r = i.length - 2,
                t = i.substring(0, r);
            return t.includes(",00") ? t.Replace(",00", string.Empty) : (t.includes(",") && t.slice(-1) == "0" && (t = t.substring(0, t.Length - 1)), t)
        }
        return "0"
    }

    function ri(n) {
        var r = u.getAttribute("data-default-value"),
            i = n.reverse().join(", ");
        return t && (t.orderBy && (i = n.sort().join(", ")), t.lastText && i != r && i && i != "" && (i = `${i} ${t.lastText}`), t.removeDuplicateText && i != r && i && i != "" && (i = `${t.removeDuplicateText} ${i.replaceAll(t.removeDuplicateText,"")}`)), i
    }

    function rr(n) {
        var r = u.getAttribute("data-default-value"),
            i = n.join("\n");
        return t && (t.tooltipStyleLabel && (i = n.sort().join(", ")), t.lastText && i != r && (i = `${i} ${t.lastText}`)), i
    }

    function vf() {
        if (rt && n.value && t && t.filterType) {
            let i = n.value.includes(";") ? "multi" : "single";
            rt[0].setAttribute("tracking-label", `filterType=${t.filterType},searchType=${i}`)
        }
    }
    var i = {
            CONTAINER: "js__listing-search-select-container",
            DROPDOWN: "js__listing-search-select-select-dropdown",
            BUTTON: "js__listing-search-select-button",
            BUTTON_CURRENT_TEXT: "js__listing-search-select-button-current-text",
            OPTION: "js__option",
            PIE_CHART_OPTION: "js__pie-chart-option",
            OPTION_GROUP: "js__group",
            OPTION_GROUP_ELEMENT: function(n) {
                return `js__group-element-${n}`
            },
            RESET_BUTTON: "js__listing-search-select-reset-button",
            CLOSE_BUTTON: "js__listing-search-select-button-close",
            CONFIRM_BUTTON: "js__listing-search-select-confirm-button",
            SEARCH_BUTTON: "js__listing-search-select-search-button",
            CONTAINER_TOOLTIP: "js__listing-search-select-tooltip",
            INPUT_SEARCH: "js__listing-search-select-search-input",
            MAX_CHECKED_OPTIONS: "re__max-checked-options",
            MAX_CHECKED_OPTIONS_SHOW_ALERT: "re__show-alert",
            APPLY_BUTTON: "js__listing-search-select-apply-button",
            FOOTER: "js__listing-search-select-footer",
            OPTION_CHECKED: "re__checked",
            OPTION_ACTIVED: "re__actived",
            CONTAINER_BLOCK: "re__block",
            DROPDOWN_SHOW: "re__show",
            DROPDOWN_SHOW_FADE_IN: "re__show-fade-in",
            LIST: "re__listing-search-select-list",
            MULTIPLE: "re__multiple",
            SINGLE: "re__single",
            SELECTED_ICON: "js__selected-icon",
            PIE_CHART: "re__pie-chart",
            PIE_SEGMENT: "pieSegment",
            ACTIVE_MENU: "re__menu-active",
            DISABLE_SWIPER: "swiper-no-swiping",
            SWIPER_WRAPPER: "swiper-wrapper",
            OVERLAY: "re__overlay",
            FIX: "re__fix",
            NO_SCROLL: "no-scroll",
            NO_SCROLL_MAC: "no-scroll-mac",
            RIGHT_BANNER: "ban_wide_right",
            LEFT_BANNER: "ban_wide_left",
            CHAT_CONTAINER: "re__live-chat-container",
            FEED_BACK: 'div[class*="__MinimizedWidgetMiddle__right"]',
            SELECT_HEADER: "js_search-location-select-header",
            FORM: "boxSearchForm",
            SELECT_HEADER_TITLE: "js__listing-search-select-header-title",
            GO_TO_TOP: "gototop"
        },
        s = {
            TRIEU_DONG: 1,
            M2: 2,
            TRIEU_DONG_PER_M2: 3
        },
        u = n.getParent(i.CONTAINER),
        y = u.querySelector(`.${i.BUTTON}`),
        f = u.querySelector(`.${i.DROPDOWN}`),
        r = f.querySelector(`.${i.LIST}`),
        ui = f.querySelector(`.${i.FOOTER}`),
        d = y.querySelector(`.${i.BUTTON_CURRENT_TEXT}`),
        fi = u.querySelector(`.${i.SELECTED_ICON}`),
        ur = u.querySelector(`.${i.SELECT_HEADER_TITLE}`),
        e = u.querySelector(`.js__listing-search-select-slider`),
        p = u.querySelector(`.js__listing-search-select-slider .js__min-value`),
        w = u.querySelector(`.js__listing-search-select-slider .js__max-value`),
        ht = u.querySelector(`.js__listing-search-select-slider .js__slider-bar`),
        ei = u.querySelectorAll(`.${i.RESET_BUTTON}`),
        fr = u.querySelectorAll(`.${i.CLOSE_BUTTON}`),
        it = u.querySelectorAll(`.${i.CONFIRM_BUTTON}`),
        bt = u.querySelectorAll(`.${i.SEARCH_BUTTON}`),
        rt = u.querySelectorAll(`.${i.APPLY_BUTTON}`),
        l = u.querySelector(`.${i.CONTAINER_TOOLTIP}`),
        b = f.querySelector(`.${i.INPUT_SEARCH}`),
        c = f.querySelector(`.${i.PIE_CHART}`);
    pieSegment = f.querySelectorAll(`.${i.PIE_SEGMENT}`);
    pieTextOption = f.querySelectorAll(`.${i.PIE_CHART_OPTION}`);
    swiperContainer = f.querySelector(`.${i.SWIPER_WRAPPER}`);
    const g = document.querySelector(".re__main"),
        h = document.querySelector("#boxSearchForm").getAttribute("data-home-search") === "true",
        oi = window.innerWidth,
        ct = oi < 850,
        kt = navigator.userAgent.includes("Mac");
    var a = u.querySelector(`.js__listing-search-select-slider .js__slider-min-label`),
        k = u.querySelector(`.js__listing-search-select-slider .js__slider-max-label`),
        ut = function() {
            return u.getAttribute("data-multiple") == "true"
        },
        lt = !!e,
        er = !!u.querySelector(`.${i.RESET_BUTTON}`),
        or = l.getAttribute("role") == "tooltip",
        dt = !!b,
        at = +f.getAttribute("data-max-checked-options") || 0,
        sr = !!fi,
        vt = [],
        ft = [],
        si = [],
        hi = [],
        ci = [],
        gt = "";
    const et = n.value,
        hr = a ? a.textContent : "",
        cr = k ? k.textContent : "";
    (function() {
        if (lt && (function t() {
                window && window.$ && window.$.fn.slider ? $(ht).slider({
                    range: !0,
                    orientation: "horizontal",
                    min: +e.getAttribute("data-min"),
                    max: +e.getAttribute("data-max"),
                    values: n.value.startsWith("[") ? JSON.parse(n.value) : [+e.getAttribute("data-min"), +e.getAttribute("data-max")],
                    step: +e.getAttribute("data-step"),
                    slide: br
                }) : setTimeout(function() {
                    t()
                }, 500)
            }(), p.addEventListener("keyup", ai), p.addEventListener("keyup", yi), w.addEventListener("keyup", ai), w.addEventListener("keyup", yi), tt(fu), tt(uu)), er && ei.forEach(n => {
                n.addEventListener("click", function() {
                    wt(null)
                })
            }), or) {
            const t = et,
                n = st();
            d.innerHTML = ri(n);
            t ? l.setAttribute("aria-label", rr(n)) : l.removeAttribute("aria-label")
        }
        y.addEventListener("click", function(n) {
            if (u.classList.contains(i.CONTAINER_BLOCK)) n.preventDefault(), ff(), y.addEventListener("mouseout", ir);
            else {
                const t = n.target;
                !t || t.classList.contains("re__icon-close--sm") || t.classList.contains(i.RESET_BUTTON) || !!t.getParent(`.${i.RESET_BUTTON}`) || (!h && f.classList.contains(i.DROPDOWN_SHOW_FADE_IN) || h && f.classList.contains(i.DROPDOWN_SHOW) ? v() : ki())
            }
        });
        ti();
        tt(nu);
        tt(iu);
        dt && b.addEventListener("keyup", wr);
        fr.forEach(n => {
            n.addEventListener("click", function() {
                v()
            })
        });
        it.length > 0 && tt(eu);
        it.forEach(n => {
            n.addEventListener("click", function() {
                v()
            })
        });
        n.addEventListener("change", nt);
        nt();
        rt.forEach(n => {
            n.addEventListener("click", vr)
        });
        bt.forEach(n => {
            n.addEventListener("click", yr)
        });
        ei.forEach(n => {
            n.addEventListener("click", pr)
        });
        vt.push(vf);
        f.addEventListener("hover", function() {
            y.blur()
        })
    })();
    this.UpdateList = ou;
    this.SetValue = wt;
    this.GetValue = hu;
    this.GetMinConfig = ku;
    this.GetMaxConfig = du;
    this.GetStepConfig = gu;
    this.AddChangeEvent = tt;
    this.RemoveChangeEvent = pu;
    this.AddClickOptionEvent = wu;
    this.AddClickApplyEvent = bu;
    this.AddClickSearchEvent = nf;
    this.AddClickResetEvent = tf;
    this.UpdateSliderBarConfig = au;
    this.CreateListAsHtmlFromObject = vu;
    this.CreateListGroupTitleHtml = yu;
    this.Block = rf;
    this.Unblock = uf;
    this.OpenPopup = ki;
    this.ClosePopup = v;
    this.AppendList = su;
    this.Hide = lr;
    this.Show = ar;
    this.GetSliderValue = cu;
    this.GetText = ef;
    this.GetTextOptionsSelected = st;
    this.ChangeToSingle = of ;
    this.ChangeToMultiple = sf;
    this.HiddenFooter = hf;
    this.ShowFooter = cf;
    this.SetDefaultText = lf;
    this.GetApplyButton = function() {
        return rt.length ? rt[0] : null
    };
    this.GetSearchButton = function() {
        return bt.length ? bt[0] : null
    };
    this.GetCustomText = af;
    this.CloseHomePopup = gr
};
window.FrontEnd || (window.FrontEnd = {});
FrontEnd.SearchingSuggestionServices = function() {
    function g(n) {
        return new Promise(function(t) {
            var r = $("#staticDomain").data("sug-api-b2b") || "https://suggestions.batdongsan.com.vn/suggest",
                i = new URL(r);
            i.searchParams.append("keyword", n);
            i.searchParams.append("projectType", 1);
            fetch(i.href, {
                method: "GET",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                    "Verify-Token": document.querySelector("#staticDomain") ? document.querySelector("#staticDomain").getAttribute("data-verify-token") : ""
                }
            }).then(n => n.json()).then(function(n) {
                t(n)
            })
        })
    }

    function d(e, l, a = 7, y = 2) {
        return n == !1 ? (n = !0, new Promise(function(p) {
            var b = UnicodeToKoDau(e).trim(),
                k, tt, w, d, it, nt;
            localStorage && (k = JSON.parse(localStorage.getItem(o)), tt = new Date(localStorage.getItem(v)));
            (!k || !tt || tt && c(new Date, tt) >= t.hours) && (k = {}, localStorage.setItem(v, (new Date).toUTCString()));
            w = k[`${b}_${l}`];
            w ? (d = [], d.push({
                id: null,
                label: e,
                value: e
            }), d = d.concat(w), n = !1, p(d)) : l == i ? g(b).then(function(t) {
                for (var r, i = [], u = [], s = 0; s < t.length; s++) r = t[s], r.Type == 5 ? i.push(f(r, e, l)) : u.push(f(r, e, l));
                u.length > 0 && (i = i.slice(0, a - y), i = i.concat(u));
                i = i.slice(0, a);
                Promise.all(i).then(t => {
                    w = t;
                    k[`${e}_${l}`] = w;
                    localStorage && localStorage.setItem(o, JSON.stringify(k));
                    var i = [];
                    i.push({
                        id: null,
                        label: e,
                        value: e
                    });
                    i = i.concat(w);
                    n = !1;
                    p(i)
                })
            }).catch(function() {
                n = !1;
                p([])
            }) : (it = document.querySelector("#staticDomain") ? document.querySelector("#staticDomain").getAttribute("data-sug-api-consumer") : "https://suggestions.batdongsan.com.vn/suggest", nt = new URL(it), nt.searchParams.append("keyword", b), l === s && (nt.searchParams.append("categoryId", l), nt.searchParams.append("size", a)), u === !0 && nt.searchParams.append("strictType", h.EXCLUDE_CATEGORY), fetch(nt.href, {
                method: "GET",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                    "Verify-Token": document.querySelector("#staticDomain").getAttribute("data-verify-token") || ""
                }
            }).then(n => n.json()).then(function(t) {
                for (var h, v, i = [], c = [], d = "|", u = 0; u < t.length; u++)
                    if (h = t[u], l == r) {
                        if (v = h.Intent == 1 ? r : s, i.length >= a && v == r || c.length >= y && v != r) continue;
                        v == r ? (i.push(f(h, b, l)), d += `${u}|`) : (c.push(f(h, b, l)), d += `${u}|`);
                        i = i.slice(0, a - c.length)
                    } else i.push(f(h, b, l));
                if (i = i.concat(c), i.length < a && l == r)
                    for (u = 0; u < t.length && i.length < a; u++) d.indexOf(`|${u}|`) == -1 && t[u].Intent == 2 && i.push(f(t[u], b, l));
                Promise.all(i).then(t => {
                    w = t;
                    k[`${b}_${l}`] = w;
                    localStorage && localStorage.setItem(o, JSON.stringify(k));
                    var i = [];
                    i.push({
                        id: null,
                        label: e,
                        value: e
                    });
                    i = i.concat(w);
                    n = !1;
                    p(i)
                })
            }, function() {
                n = !1;
                p(d)
            }))
        })) : new Promise(function(n) {
            n([])
        })
    }

    function f(n, t, i) {
        var u = n.Intent == 1 ? r : s,
            f = n.CategoryId == u ? null : n.CategoryId;
        return new Promise(r => {
            it(n, t).then(e => {
                r({
                    id: {
                        city: n.CityCode,
                        distr: n.DistrictId,
                        wardid: n.WardId,
                        streetid: n.StreetId,
                        projid: n.ProjectId,
                        projcate: null,
                        productType: u,
                        categoryId: f,
                        minarea: n.FromArea,
                        maxarea: n.ToArea,
                        minprice: n.FromPrice,
                        maxprice: n.ToPrice,
                        directionid: n.DirectionId,
                        roomid: n.RoomNumber,
                        ts: 0,
                        tr: 0
                    },
                    labelComponent: nt(n, i),
                    shortcutRules: e,
                    hightlightTexts: tt(n, t, e),
                    label: n.FullName,
                    value: n.FullName
                })
            })
        })
    }

    function nt(n, t) {
        return {
            category: u && t != i ? null : n.CategoryName,
            city: n.CityName,
            district: n.DistrictName,
            ward: n.WardName,
            street: n.StreetName,
            project: n.ProjectName,
            name: n.Name,
            matchName: n.MatchName,
            hightlight: n.Highlight
        }
    }

    function c(n, t) {
        return Math.round(n.getTime() - t.getTime()) / 36e5
    }

    function e(n, t, i, r) {
        function u() {
            var s, o, f, e;
            if (!t || (s = a(n, r), i >= s)) return n;
            if (o = t.shift(), o) {
                for (f = n.split(",").map(n => n.trim()), e = 0; e < f.length; e++) f[e].toLocaleLowerCase() == o.from.toLocaleLowerCase() && (f[e] = o.to);
                n = f.join(", ")
            } else return n;
            return u()
        }
        return i && r ? n = u() : n
    }

    function tt(n, t, i) {
        var u = n.Highlight ? n.Highlight.split(" ") : t.split(" "),
            r = n.Highlight;
        return i.forEach(n => {
            var t, i;
            n.to != "..." && (t = r.toLocaleLowerCase().indexOf(n.from.replace("...", "").toLocaleLowerCase()), t >= 0 && (i = r.substring(t, n.from.replace("...", "").length), r = r.replace(i, n.to.replace("...", "")), r.split(" ").forEach(t => {
                u.indexOf(t) == -1 && (n.from.indexOf("...") >= 0 ? u.push(t + "...") : u.push(t))
            })))
        }), u
    }

    function it(n, t) {
        function u(n) {
            var a = "SEARCHUNG_SUGGESTION_SHORTCUT_RULES_V1",
                o = n,
                r = ut(a),
                v, c, t, l, u, e, i, h, y;
            if (r || (r = {}), r[o]) return r[o];
            if (v = [{
                    id: "Thừa Thiên Huế",
                    shortcuts: ["Thừa Thiên Huế", "TT.Huế"]
                }, {
                    id: "Thành phố Phan Rang - Tháp Chàm",
                    shortcuts: ["Thành phố Phan Rang - Tháp Chàm", "Phan Rang Tháp Chàm", "Phan Rang - Tháp Chàm", "P.Rang-T.Chàm", "PR-TC"]
                }, {
                    id: "Bà Rịa Vũng Tàu",
                    shortcuts: ["Bà Rịa Vũng Tàu", "B.Rịa-V.Tàu", "BR-VT"]
                }, {
                    id: "Hồ Chí Minh",
                    shortcuts: ["Hồ Chí Minh", "TP.HCM"]
                }], c = Object.keys(r), c.length > 200 && delete r[c[200 * Math.random() << 0]], t = [], l = v.filter(t => t.id.toLocaleUpperCase() == n.toLocaleUpperCase()), l.length) t = l[0].shortcuts, r[o] = t.map((n, i) => ({
                from: n,
                to: i + 1 < t.length ? t[i + 1] : "",
                primary: 3
            })).filter(n => n.to);
            else {
                t.push(n);
                var p = {
                        "quận": "Q",
                        "xã": "X",
                        "đường": "Đ",
                        "phường": "P",
                        "phố": "P",
                        "thành phố": "TP",
                        "thị trấn": "TT",
                        "thị xã": "TX",
                        "đặc khu hành chính": "ĐK",
                        "huyện đảo": "HĐ",
                        "xã đảo": "XĐ"
                    },
                    f = "",
                    s = "";
                if (["quận", "xã", "đường", "phường", "phố", "thành phố", "thị trấn", "thị xã", "đặc khu hành chính", "huyện đảo", "xã đảo"].forEach(t => {
                        var i = n.toLocaleLowerCase().indexOf(t);
                        i >= 0 && (f = n.substring(i, t.length), s = p[t])
                    }), f && s && (t.push(n.replace(`${f} `, `${s}.`)), n = n.replace(`${f} `, ""), +n || t.push(n)), !+n) {
                    for (u = "", e = "", i = 0; i < n.length; i++)
                        if (n[i] && n[i] != " ") {
                            if (!u)
                                if (+n[i]) {
                                    for (h = i; n[h] && n[h] != " ";) h++;
                                    y = h - i;
                                    u = n.substr(i, y); + n[i] ? e += u : (u = n[i].toUpperCase(), e += u)
                                } else u = n[i].toUpperCase(), e += u
                        } else t.push(`${u}.${n.substr(i+1)}`), u = "";
                    e.length > 1 && t.push(e)
                }
                r[o] = t.map((n, i) => {
                    var r = 3;
                    return f && n.indexOf(f) >= 0 ? r = 1 : s && n.indexOf(s) >= 0 && i - 1 >= 0 && t[i - 1].indexOf(f) >= 0 && (r = 2), {
                        from: n,
                        to: i + 1 < t.length ? t[i + 1] : "",
                        primary: r
                    }
                }).filter(n => n.to)
            }
            return ft(a, r), r[o]
        }
        var i = [],
            r;
        if (n.CityName && i.push(new Promise(t => t(u(n.CityName)))), n.DistrictName && i.push(new Promise(t => t(u(n.DistrictName)))), n.WardName && i.push(new Promise(t => t(u(n.WardName)))), n.StreetName && i.push(new Promise(function(t) {
                t(u(n.StreetName))
            })), n.ProjectId) {
            function r(i) {
                return new Promise(function(r) {
                    function s(n, t, i) {
                        return n.substr(0, t) + i + n.substr(t + i.length)
                    }
                    var e = [],
                        l = n.Highlight ? n.Highlight.split(" ") : t.split(" "),
                        f, o, h, c, u;
                    if (l.forEach(n => {
                            var r, t;
                            if (n && (r = i.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()), r >= 0))
                                for (t = 0; t < n.length; t++) e.push(r + t)
                        }), e = e.sort((n, t) => n - t), f = [], i = i.replaceAll(".", "[dot]"), f.push(i), o = i.length, e.length)
                        for (h = e[e.length - 1], c = e[0], u = 0; u < o; u++) o - (u + 1) > h && (i = s(i, o - (u + 1), "."), f.indexOf(i) == -1 && i.indexOf("...") >= 0 && f.push(i)), u < c && (i = s(i, u, "."), f.indexOf(i) == -1 && i.indexOf("...") >= 0 && f.push(i));
                    for (o = i.length, u = 0; u < i.length; u++) i[o - (u + 1)] != "." && (i = s(i, o - (u + 1), "."), f.indexOf(i) == -1 && i.indexOf("...") >= 0 && f.push(i));
                    for (u = 0; u < f.length; u++) {
                        while (f[u].indexOf("..") >= 0) f[u] = f[u].replaceAll("..", ".");
                        f[u] = f[u].replaceAll(".", "...");
                        f[u] = f[u].replaceAll("[dot]", ".")
                    }
                    r(f.map((n, t) => ({
                        from: n,
                        to: f[t + 1],
                        primary: 3
                    })))
                })
            }
            n.MatchName && n.Highlight && n.MatchName.indexOf(n.Highlight) >= 0 && n.ProjectName.indexOf(n.Highlight) == -1 ? (i.push(r(n.MatchName)), i.push(r(`${n.MatchName} (${n.ProjectName})`))) : i.push(r(n.ProjectName))
        }
        return r = [], new Promise(n => {
            Promise.all(i).then(t => {
                t.forEach(n => {
                    r = r.concat(n)
                }), r = r.filter(n => n.to).sort((n, t) => n.primary - t.primary), n(r)
            })
        })
    }

    function l(n, t, i) {
        var f = ["bán", "cho thuê"],
            r = i,
            u, e, o;
        if (n == 38 ? (r = "Nhà đất", t && (r = i), t == 324 ? r = "Căn hộ chung cư" : t == 362 ? r = "Các loại nhà bán" : t == 41 ? r = "Nhà riêng" : t == 325 ? r = "Nhà biệt thự, liền kề" : t == 163 ? r = "Nhà mặt phố" : t === 575 ? r = "Shophouse, nhà phố thương mại" : t == 361 ? r = "Các loại đất bán" : t == 40 ? r = "Đất nền dự án" : t == 283 ? r = "Đất" : t == 44 ? r = "Trang trại, khu nghỉ dưỡng" : t == 562 ? r = "Condotel" : t == 45 ? r = "Kho, nhà xưởng" : t == 48 && (r = "Loại bđs khác")) : n == 49 && (r = "Thuê nhà đất", t && (r = i), t == 326 && (r = "Thuê căn hộ chung cư"), t == 52 && (r = "Thuê nhà riêng"), t == 577 ? r = "Thuê nhà biệt thự, liền kề" : t == 51 ? r = "Thuê nhà mặt phố" : t == 576 ? r = "Thuê shophouse, nhà phố thương mại" : t == 57 ? r = "Thuê nhà trọ, phòng trọ" : t == 50 ? r = "Thuê văn phòng" : t == 55 ? r = "Thuê, sang nhượng cửa hàng, ki ốt" : t == 53 ? r = "Thuê kho, xưởng, đất" : t == 59 && (r = "Thuê bđs khác")), r == i)
            for (u = 0; u < f.length; u++) e = r.toLocaleLowerCase().indexOf(f[u]), e >= 0 && (o = r.substr(e, f[u].length), r = r.replace(o, "").trim(), r = r[0].toLocaleUpperCase() + r.substr(1));
        return r
    }

    function a(n, t = rt()) {
        const r = a.canvas || (a.canvas = document.createElement("canvas")),
            i = r.getContext("2d");
        i.font = t;
        const u = i.measureText(n);
        return u.width
    }

    function rt(n = document.body) {
        function t(n, t) {
            return window.getComputedStyle(n, null).getPropertyValue(t)
        }
        const i = t(n, "font-weight") || "normal",
            r = t(n, "font-size") || "16px",
            u = t(n, "font-family") || "Times New Roman";
        return `${i} ${r} ${u}`
    }

    function ut(n) {
        if (localStorage) {
            var t = localStorage.getItem(n);
            if (t) return JSON.parse(t)
        }
        return null
    }

    function ft(n, t) {
        localStorage && t && localStorage.setItem(n, JSON.stringify(t))
    }
    var o = "SEARCHING_SUGGESTION",
        v = "SEARCHING_SUGGESTION_SAVED_TIME",
        y = "SEARCH_LOCATION_SUGGESTION",
        p = "SEARCH_LOCATION_SUGGESTION_SAVED_TIME",
        w = "SEARCH_POPULAR_SUGGESTION",
        b = "SEARCH_POPULAR_SUGGESTION_SAVED_TIME",
        n = !1,
        r = 38,
        s = 49,
        i = 351,
        t;
    const h = {
            ALL: 0,
            ONLY_LOCATION: 1,
            ONLY_PROJECT: 2,
            EXCLUDE_CATEGORY: 3
        },
        k = {
            Project: 5,
            District: 3,
            Ward: 6,
            Street: 2,
            City: 1
        };
    t = document.querySelector("script[searching-suggestions-service-params]") ? JSON.parse(document.querySelector("script[searching-suggestions-service-params]").getAttribute("searching-suggestions-service-params")) : {};
    const u = document.querySelector("#staticDomain") !== undefined && document.querySelector("#staticDomain").getAttribute("data-new-api-suggestion") !== undefined ? document.querySelector("#staticDomain").getAttribute("data-new-api-suggestion").toLowerCase() === "true" : !1;
    this.getLocationSuggestions = function(r) {
        return new Promise(function(u) {
            var v = [],
                w = UnicodeToKoDau(r.keyword).trim(),
                o, l = `${w}_${r.productType}_${r.cityCode}_${r.size}`,
                s, f, a, e;
            localStorage && (o = JSON.parse(localStorage.getItem(y)), s = new Date(localStorage.getItem(p)));
            (!o || !s || s && c(new Date, s) >= t.hours) && (o = {}, localStorage.setItem(p, (new Date).toUTCString()));
            f = o[l];
            f ? (n = !1, u(f)) : (a = document.querySelector("#staticDomain") ? document.querySelector("#staticDomain").getAttribute("data-sug-api-consumer") : "https://suggestions.batdongsan.com.vn/suggest", e = new URL(a), e.searchParams.append("keyword", r.keyword), e.searchParams.append("city", r.cityCode), e.searchParams.append("size", r.size + 1), r.productType == i ? e.searchParams.append("projectType", h.ONLY_LOCATION) : (e.searchParams.append("strictType", h.EXCLUDE_CATEGORY), e.searchParams.append("categoryId", r.productType)), fetch(e.href, {
                method: "GET",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                    "Verify-Token": document.querySelector("#staticDomain").getAttribute("data-verify-token") || ""
                }
            }).then(n => n.json()).then(function(t) {
                var i = t;
                Promise.all(i).then(t => {
                    f = t, o[l] = f, localStorage && f && f.length > 0 && localStorage.setItem(y, JSON.stringify(o)), n = !1, u(f)
                })
            }, function() {
                n = !1;
                u(v)
            }))
        })
    };
    this.getPopularSuggestions = function(u) {
        return new Promise(function(f) {
            var l = [],
                o, h = `${u.productType}_${u.cateId}_${u.cityCode}`,
                s, e;
            if (localStorage && (o = JSON.parse(localStorage.getItem(w)), s = new Date(localStorage.getItem(b))), (!o || !s || s && c(new Date, s) >= t.hours) && (o = {}, localStorage.setItem(b, (new Date).toUTCString())), e = o[h], e) n = !1, f(e);
            else {
                let t = u.productType == i ? r : u.productType,
                    s = u.productType == i ? 324 : u.cateId,
                    c = u.productType == i ? 20 : 10,
                    a = `${u.apiPopularSuggestion}?productType=${t}&cateId=${s}&cityCode=${u.cityCode}&pageSize=${c}`;
                fetch(a, {
                    method: "GET",
                    headers: {
                        Accept: "application/json",
                        "Content-Type": "application/json"
                    }
                }).then(n => n.json()).then(function(t) {
                    var s = [];
                    let c = 10,
                        r = 0;
                    t.forEach(n => {
                        r < c && (u.productType != i || u.productType == i && (n.type == k.Project || n.type == k.District)) && (s.push({
                            ScopeId: r,
                            FullName: n.fullName,
                            Name: n.name,
                            Value: n.value,
                            MatchName: "",
                            Highlight: "",
                            LocationLevel: n.location_level,
                            Type: n.type,
                            ProjectId: n.project_id,
                            StreetId: n.street_id,
                            WardId: n.ward_id,
                            DistrictId: n.district_id,
                            CityCode: n.city_code,
                            StreetName: n.street_name,
                            WardName: n.ward_name,
                            DistrictName: n.district_name,
                            CityName: n.city_name,
                            ProjectName: n.project_name
                        }), r++)
                    });
                    Promise.all(s).then(t => {
                        e = t, o[h] = e, localStorage && e && e.length > 0 && localStorage.setItem(w, JSON.stringify(o)), n = !1, f(e)
                    })
                }, function() {
                    n = !1;
                    f(l)
                })
            }
        })
    };
    this.GetSuggestionsForWeb = function(n) {
        return new Promise(function(t, r) {
            d(n.text, n.productType, n.size, n.sizeOfRecommendation).then(function(r) {
                for (var o, f = 0; f < r.length; f++) n.productType == i ? (r[f].labelComponent && r[f].id.projid && r[f].id.projid > 0 && (r[f].value = r[f].label), r[f].shortcutRules && r[f].width && r[f].style && (r[f].label = e(r[f].label, r[f].shortcutRules, r[f].width, r[f].style))) : r[f].labelComponent && (n.productType != i && u === !1 && (r[f].labelComponent.category = l(r[f].id.productType, r[f].id.categoryId, r[f].labelComponent.category)), o = u ? [] : [r[f].labelComponent.category], r[f].id.projid ? r[f].labelComponent.matchName && r[f].labelComponent.hightlight && r[f].labelComponent.matchName.indexOf(r[f].labelComponent.hightlight) >= 0 && r[f].labelComponent.project.indexOf(r[f].labelComponent.hightlight) == -1 ? r.filter(n => n.labelComponent && n.labelComponent.matchName == r[f].labelComponent.matchName && n.id.productType == r[f].id.productType && n.id.categoryId == r[f].id.categoryId).length > 1 ? o.push(`${r[f].labelComponent.matchName} (${r[f].labelComponent.project})`) : o.push(r[f].labelComponent.matchName) : o.push(r[f].labelComponent.project) : r[f].id.streetid ? o.push(r[f].labelComponent.street) : r[f].id.wardid && o.push(r[f].labelComponent.ward), r[f].id.distr && o.push(r[f].labelComponent.district), r[f].id.city && o.push(r[f].labelComponent.city), r[f].label = o.join(", "), r[f].value = r[f].label, r[f].shortcutRules && n.width && n.style && (r[f].label = e(r[f].label, r[f].shortcutRules, n.width, n.style)));
                t(r)
            }).catch(n => {
                r(n)
            })
        })
    };
    this.GetSuggestionsForWap = function(n) {
        return new Promise(function(t, r) {
            d(n.text, n.productType, n.size, n.sizeOfRecommendation).then(function(r) {
                for (var h, s, o, a, f = 0; f < r.length; f++)
                    if (n.productType == i) {
                        if (r[f].labelComponent && r[f].id.projid && r[f].id.projid > 0) {
                            var c = r[f].label.split(", "),
                                s = [],
                                o = [];
                            for (h = 0; h < c.length; h++) h <= 0 || r[f].labelComponent.street.toLocaleLowerCase() == c[h].toLocaleLowerCase() ? s.push(c[h]) : o.push(c[h]);
                            a = [e(s.filter(n => n).join(", "), JSON.parse(JSON.stringify(r[f].shortcutRules)), n.widthLine1, n.styleLine1), o.filter(n => n).length ? e(o.filter(n => n).join(", "), JSON.parse(JSON.stringify(r[f].shortcutRules)), n.widthLine2, n.styleLine2) : null].filter(n => n);
                            r[f].label = JSON.stringify(a);
                            r[f].value = r[f].label
                        }
                    } else r[f].labelComponent && !u && (r[f].labelComponent.category = l(r[f].id.productType, r[f].id.categoryId, r[f].labelComponent.category), s = u ? [] : [r[f].labelComponent.category], o = [], r[f].id.projid ? (r[f].labelComponent.matchName && r[f].labelComponent.hightlight && r[f].labelComponent.matchName.indexOf(r[f].labelComponent.hightlight) >= 0 && r[f].labelComponent.project.indexOf(r[f].labelComponent.hightlight) == -1 ? r.filter(n => n.labelComponent && n.labelComponent.matchName == r[f].labelComponent.matchName && n.id.productType == r[f].id.productType && n.id.categoryId == r[f].id.categoryId).length > 1 ? s.push(`${r[f].labelComponent.matchName} (${r[f].labelComponent.project})`) : s.push(r[f].labelComponent.matchName) : s.push(r[f].labelComponent.project), r[f].id.streetid && s.push(r[f].labelComponent.street), r[f].id.wardid && o.push(r[f].labelComponent.ward), r[f].id.distr && o.push(r[f].labelComponent.district), r[f].id.city && o.push(r[f].labelComponent.city)) : r[f].id.streetid ? (s.push(r[f].labelComponent.street), r[f].id.wardid && o.push(r[f].labelComponent.ward), r[f].id.distr && o.push(r[f].labelComponent.district), r[f].id.city && o.push(r[f].labelComponent.city)) : r[f].id.wardid ? (s.push(r[f].labelComponent.ward), r[f].id.distr && o.push(r[f].labelComponent.district), r[f].id.city && o.push(r[f].labelComponent.city)) : r[f].id.distr ? (s.push(r[f].labelComponent.district), r[f].id.city && o.push(r[f].labelComponent.city)) : r[f].id.city && s.push(r[f].labelComponent.city), a = [e(s.filter(n => n).join(", "), JSON.parse(JSON.stringify(r[f].shortcutRules)), n.widthLine1, n.styleLine1), o.filter(n => n).length ? e(o.filter(n => n).join(", "), JSON.parse(JSON.stringify(r[f].shortcutRules)), n.widthLine2, n.styleLine2) : null].filter(n => n), r[f].label = JSON.stringify(a), r[f].value = r[f].label);
                t(r)
            }).catch(n => {
                r(n)
            })
        })
    };
    this.GetNearMeTrackingAttributes = function() {
        return `tracking-id="${t.trackingInfo.id}" tracking-label="type=${t.trackingInfo.nearMe}"`
    };
    this.GetHistoryTrackingAttributes = function() {
        return `tracking-id="${t.trackingInfo.id}" tracking-label="type=${t.trackingInfo.history}"`
    };
    this.GetLocationTrackingAttributes = function(n) {
        return `tracking-id="${t.trackingInfo.id}" tracking-label="type=${t.trackingInfo.location};query=${n}"`
    };
    this.GetProjectTrackingAttributes = function(n) {
        return `tracking-id="${t.trackingInfo.id}" tracking-label="type=${t.trackingInfo.project};query=${n}"`
    };
    this.GetKeywordTrackingAttributes = function(n) {
        return `tracking-id="${t.trackingInfo.id}" tracking-label="query=${n}"`
    };
    this.GetShortcutOfCategory = l
};
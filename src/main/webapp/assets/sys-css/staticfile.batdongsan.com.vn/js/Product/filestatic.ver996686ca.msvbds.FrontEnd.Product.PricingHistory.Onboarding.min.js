var productOnboarding = {};
(function(n) {
    n.Content = function() {
        function i(i) {
            function c(n) {
                r(t, n, null, "/")
            }

            function h() {
                return u(t)
            }
            var o, e, s, f;
            document.querySelector(".js__web-srp-onboarding") && document.querySelector(".js__web-srp-onboarding").addEventListener("click", function() {
                waitObject("preloadPricingHistoryServices.showOrHideChart").then(() => window.preloadPricingHistoryServices.showOrHideChart()).then(n => {
                    if (n) {
                        var t = document.querySelector(".js__menu-bar").classList.contains("re__fix") ? 140 : 190;
                        waitObject("$").then(() => {
                            window.$("html, body").animate({
                                scrollTop: document.querySelector(".js__li-pricing-history-chart").getBoundingClientRect().top + window.scrollY - t
                            }, 1e3)
                        })
                    } else(new window.FrontEnd.KycFormHelper).OpenPricingHistoryKycForm()
                })
            });
            document.querySelector(".js__wap-srp-onboarding") && document.querySelector(".js__wap-srp-onboarding").addEventListener("click", function() {
                waitObject("preloadPricingHistoryServices.showOrHideChart").then(() => window.preloadPricingHistoryServices.showOrHideChart()).then(n => {
                    n ? waitObject("$").then(() => {
                        window.$("html, body").animate({
                            scrollTop: document.querySelector(".js__nav-pricing-history-chart").getBoundingClientRect().top + window.scrollY - 120
                        }, 1e3)
                    }) : (new window.FrontEnd.KycFormHelper).OpenPricingHistoryKycForm()
                })
            });
            document.querySelector(".js__ldp-onboarding") && document.querySelector(".js__ldp-onboarding").addEventListener("click", function() {
                document.querySelectorAll(".js__li-pricing-history-chart").forEach(n => {
                    if (n.querySelector("a") != null) {
                        var t = new Event("click");
                        n.querySelector("a").dispatchEvent(t)
                    }
                });
                var n = document.querySelector(".js__ldp-onboarding-block");
                n != null && n.parentNode.removeChild(n)
            });
            o = document.querySelector(".js__onboarding-close");
            o != null && o.addEventListener("click", function() {
                var n = document.querySelector(".js__ldp-onboarding-block");
                n != null && n.parentNode.removeChild(n);
                c("1")
            });
            e = 0;
            localStorage && (s = localStorage.getItem(n), f = document.querySelector(".js__ldp-onboarding-block"), s && f && (e = parseInt(s), e > 2 && f.parentNode.removeChild(f)), e >= 0 && e < 3 && f && (h() != undefined && h().length ? h() == "1" ? f.parentNode.removeChild(f) : f.classList.remove("hidden") : (f.classList.remove("hidden"), c("0"), e += 1, window.localStorage.setItem(n, e)), waitObject("$").then(() => {
                    window.$(window).on("scroll", function() {
                        if (document.querySelector(".js__ldp-onboarding-block")) {
                            var n = document.querySelector(".js__ldp-onboarding-block"),
                                t = n.getBoundingClientRect().top + window.scrollY,
                                u = n.clientHeight,
                                i = document.querySelector(".js__pricing-history"),
                                r = i.getBoundingClientRect().top + window.scrollY,
                                e = i.clientHeight;
                            t + u < r || t > r + e ? f.classList.remove("hidden") : f.parentNode.removeChild(f)
                        }
                    })
                }))),
                function l(n) {
                    window.preloadPricingHistoryServices ? waitObject("preloadPricingHistoryServices.showOrHideChart").then(() => window.preloadPricingHistoryServices.showOrHideChart()).then(n => {
                        n || i && (document.querySelectorAll(".js__web-srp-onboarding").forEach(n => {
                            n.setAttribute("tracking-id", i.kycTrackingId)
                        }), document.querySelectorAll(".js__wap-srp-onboarding").forEach(n => {
                            n.setAttribute("tracking-id", i.kycTrackingId)
                        }))
                    }) : n && setTimeout(() => {
                        l(n - 1)
                    }, 500)
                }(20)
        }

        function r(n, t, i, r, u, f) {
            var e = new Date;
            e.setDate(e.getDate() + i);
            document.cookie = n + "=" + escape(t) + (i == null ? "" : "; expires=" + e.toUTCString()) + (r == null ? "" : "; path=" + r) + (u == null ? "" : "; domain=" + u) + (f == null ? "" : "; secure")
        }

        function u(n) {
            var i = n + "=",
                t = document.cookie;
            return t.length > 0 && (begin = t.indexOf(i), begin != -1) ? (begin += i.length, end = t.indexOf(";", begin), end == -1 && (end = t.length), unescape(t.substring(begin, end))) : null
        }
        var n = "PH_ONBOARDING_VIEW_COUNT",
            t = "PH_ONBOARDING_SESSION";
        return {
            Initialize: i
        }
    }
})(productOnboarding);
(function(n) {
    (function(n) {
        (function t(n) {
            window.jQuery && window.Swiper ? n.MediaSlide = function() {
                return function() {
                    function y() {
                        $("#video").each(function() {
                            this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*")
                        })
                    }

                    function u(n) {
                        var t = r.slides.length; + t > 1 ? ($(".popup-pagination").show(), $(".swiper-pagination-full-360").show(), +n == +t ? $("#photo360 .img360-next").addClass("img360-disable") : $("#photo360 .img360-next").removeClass("img360-disable"), +n == 1 ? $("#photo360 .img360-prev").addClass("img360-disable") : $("#photo360 .img360-prev").removeClass("img360-disable"), +n >= 1 && $(".swiper-pagination-full-360 .swiper-pagination-current").text(n), $(".swiper-pagination-full-360 .swiper-pagination-total").text(t)) : ($(".popup-pagination").hide(), $(".swiper-pagination-full-360").hide())
                    }

                    function s() {
                        if (t(), $(".slide-3d iframe").attr("src").length <= 0) {
                            var n = $(".js__pr-media-slide .js__media-preview li[data-filter=3d]").data("src");
                            $(".slide-3d iframe").attr("src", n)
                        }
                        $(".slide-3d").show()
                    }

                    function h(n) {
                        t();
                        $(".slide-360").show();
                        n > 0 ? $("#photo360 .thumbs360 li[data-order=" + n + "]").trigger("click") : $(".thumbs360 li.current").length || $("#photo360 .thumbs360 li:first").trigger("click")
                    }

                    function c(n) {
                        t();
                        n >= 0 && ($(".lg-outer").length > 0 ? ($(".lg-item").removeClass("lg-current"), $(".lg-thumb-item").removeClass("active"), $(`.lg-item:nth-child(${n})`).addClass("lg-current"), $(`.lg-thumb-item:nth-child(${n})`).addClass("active")) : p(n));
                        $(".lg-backdrop.lg-album, .lg-outer").show();
                        $(".popup-pagination").show();
                        $(".swiper-pagination-full").show();
                        $(".slide-image").show()
                    }

                    function p(n) {
                        $(`#product-photos .js__product-media:nth-child(${n})`).click()
                    }

                    function l() {
                        t();
                        $(".slide-video").show()
                    }

                    function w() {
                        t();
                        $(".slide-map").show();
                        $(".slide-map iframe").length || $(".detail-2 .map iframe").clone().appendTo(".slide-map");
                        $(".popup-choice").addClass("popup-choice-map");
                        $(".js__popup-pr-media-slide .icon-close").addClass("icon-close-black")
                    }

                    function t() {
                        $(".js__popup-pr-media-slide .icon-close").removeClass("icon-close-black");
                        $(".popup-choice").removeClass("popup-choice-map");
                        $(".popup-pagination").hide();
                        $(".swiper-pagination-fraction").hide();
                        $(".lg-backdrop.lg-album, .lg-outer").hide();
                        y()
                    }

                    function f() {
                        $(".js__popup-pr-media-slide").css("visibility", "hidden");
                        $(".js__popup-pr-media-slide").css("z-index", "-1");
                        $(".js__popup-pr-media-slide").addClass("off")
                    }

                    function a() {
                        $(".js__popup-pr-media-slide .js__action-right").show();
                        $(".js__popup-pr-media-slide").css("visibility", "visible");
                        $(".js__popup-pr-media-slide").removeClass("off");
                        $(".js__popup-pr-media-slide .icon-close").show();
                        $(".js__popup-pr-media-slide").css("z-index", "9999999999")
                    }

                    function v() {
                        window.innerWidth >= 1024 && $("#video").css("width", $(".video-cell").height() * 16 / 9)
                    }
                    var e, o, n, i, r;
                    (function() {
                        navigator.userAgent.match(/iPad/i) !== null ? $("[full-for-ipad]").each((n, t) => {
                            $(t).attr("full", $(t).attr("full-for-ipad")), $(t).removeAttr("full-for-ipad")
                        }) : $("[full-for-ipad]").each((n, t) => {
                            $(t).removeAttr("full-for-ipad")
                        })
                    })();
                    $(".js__pr-media-slide .pr-img").on("load", function() {
                        var n = this.width / this.height;
                        n < 1 && $(this).parents(".js__media-item-container").addClass("vertical")
                    }).unbind("error").on("error", function() {
                        Common.Img.Handler.error(this);
                        $(this).parents(".js__media-item-container").addClass("vertical")
                    }).ensureImgLoadEvent();
                    e = $(".video-thumbs-full .swiper-wrapper div").length * 120;
                    $(".pr-details .video-thumbs-full.swiper-container").css("max-width", e + "px");
                    o = $(".thumbs360 li").length * 120;
                    $(".thumbs360").css("max-width", o + "px");
                    n = $(".js__pr-media-slide .js__media-thumbs .js__slick-thumb");
                    n.on("init", function() {
                        $(this).find(".slick-slide.slick-current").addClass("item-thumb-active")
                    }).slick({
                        slide: ".js__media-thumbs-item",
                        slidesToShow: 7.15,
                        slidesToScroll: 7,
                        dots: !1,
                        focusOnSelect: !1,
                        infinite: !1,
                        prevArrow: !1,
                        nextArrow: !1,
                        speed: 200,
                        responsive: [{
                            breakpoint: 1544,
                            settings: {
                                slidesToShow: 6.1,
                                slidesToScroll: 6
                            }
                        }, {
                            breakpoint: 1024,
                            settings: {
                                slidesToShow: 8.5,
                                slidesToScroll: 8
                            }
                        }, {
                            breakpoint: 840,
                            settings: {
                                slidesToShow: 7.1,
                                slidesToScroll: 7
                            }
                        }, {
                            breakpoint: 720,
                            settings: {
                                slidesToShow: 6.1,
                                slidesToScroll: 6
                            }
                        }, {
                            breakpoint: 640,
                            settings: {
                                slidesToShow: 5.3,
                                slidesToScroll: 5
                            }
                        }]
                    });
                    n.on("click", ".slick-slide", function(n) {
                        n.preventDefault();
                        var t = $(this).data("slick-index");
                        i.slideTo(t)
                    });
                    i = new Swiper(".js__pr-media-slide .js__media-preview", {
                        spaceBetween: 10,
                        keyboard: {
                            enabled: !0
                        },
                        pagination: {
                            el: ".js__pr-media-slide .swiper-pagination",
                            type: "fraction"
                        },
                        navigation: {
                            nextEl: '.js__pr-media-slide [action="go-right"]',
                            prevEl: '.js__pr-media-slide [action="go-left"]'
                        },
                        on: {
                            slideChange: function() {
                                i.realIndex != undefined && (n.slick("slickGoTo", i.realIndex), n.find(".slick-slide").removeClass("item-thumb-active"), n.find('.slick-slide[data-slick-index="' + i.realIndex + '"]').addClass("item-thumb-active"))
                            }
                        }
                    });
                    r = new Swiper(".gallery-thumbs-360", {
                        keyboard: {
                            enabled: !0
                        },
                        slidesPerView: "auto",
                        spaceBetween: 4,
                        freeMode: !0,
                        watchSlidesVisibility: !0,
                        navigation: {
                            nextEl: ".slide-360 .swiper-button-next",
                            prevEl: ".slide-360 .swiper-button-prev"
                        }
                    });
                    $(".thumbs360 li").bind("click", this, function() {
                        var n = $(this).data("order") + 1;
                        u(n)
                    });
                    $(".js__pr-media-slide").bind("keypress", this, function(n) {
                        var t = n.keyCode ? n.keyCode : n.which;
                        alert(t)
                    });
                    $("#photo360 .img360-next").on("click", function() {
                        var t = r.slides.length,
                            n = $(".thumbs360 li.current").data("order") + 1;
                        u(n);
                        n < t && $(".thumbs360 li.current").next().trigger("click")
                    });
                    $("#photo360 .img360-prev").on("click", function() {
                        var t = r.slides.length,
                            n = $(".thumbs360 li.current").data("order");
                        u(n);
                        n > 0 && $(".thumbs360 li.current").prev().trigger("click")
                    });
                    $(".js__popup-pr-media-slide .icon-close").click(function() {
                        $(".js__tiktok-iframe iframe").attr("src", $(".js__tiktok-iframe iframe").attr("src"));
                        f();
                        t();
                        $(".swiper-pagination.swiper-pagination-fraction").removeAttr("style")
                    });
                    document.onkeydown = function(n) {
                        n = n || window.event;
                        var t = !1;
                        t = "key" in n ? n.key + "" == "Escape" || n.key + "" == "Esc" : +n.keyCode == 27;
                        t && (f(), $(`.lg-backdrop.lg-album, .lg-outer`).hide())
                    };
                    $(".map-overlay").click(function() {
                        a();
                        $(".popup-choice li[data-filter=map]").trigger("click")
                    });
                    $(window).resize(function() {
                        $("#popup-choice li.active").data("filter") + "" == "360" && $(".thumbs360 li.current").trigger("click");
                        n.slick("setPosition")
                    });
                    $(window).on("orientationchange", function() {
                        n.slick("setPosition")
                    });
                    $(".js__pr-media-slide .js__media-preview li").click(function() {
                        var n = $(this).data("filter") + "",
                            t = $(this).data("index"),
                            i;
                        $(".popup-choice li").removeClass("active");
                        $(".popup-choice li[data-filter=" + n + "]").addClass("active");
                        $("#product-photos").removeAttr("data-isshow");
                        $(".slide-content").hide();
                        a();
                        n === "3d" ? s() : n === "360" ? (i = $(this).data("order"), h(i)) : n === "video" ? l(t) : ($("#product-photos").attr("data-isshow", "true"), c(t))
                    });
                    $(".popup-choice li").on("click", function() {
                        var n = $(this).data("filter") + "",
                            t;
                        $(".popup-choice li").removeClass("active");
                        $(this).addClass("active");
                        $("#product-photos").removeAttr("data-isshow");
                        $(".slide-content").hide();
                        n === "map" ? w() : n === "3d" ? s() : n === "360" ? (h(), t = $("#thumbs .current").data("order") + 1, u(t)) : n === "video" ? l() : ($("#product-photos").attr("data-isshow", "true"), c(1))
                    });
                    window.innerWidth < 1024 && $(".content .slide-image").swipe({
                        swipe: function(n, t) {
                            (t + "" == "up" || t + "" == "down") && f()
                        }
                    });
                    v();
                    $(window).on("resize", function() {
                        v()
                    });
                    $("img.youtubeMaxres").load(function() {
                        const t = this;
                        let n = t.src;
                        Common.Img.loadImg(n).then(function(i) {
                            if (i.width === 120 && i.height === 90) {
                                if (n.indexOf("maxresdefault") == -1) return;
                                n = n.replace("maxresdefault", "hqdefault");
                                t.src = n;
                                var r = $(t).parent(".js__overlay").siblings(".js__pr-image-cover");
                                r.css("background-image", `url('${n}')`)
                            }
                        }, function() {})
                    }).ensureImgLoadEvent()
                }(), {}
            } : setTimeout(function() {
                t(n)
            }, 100)
        })(n.Details || (n.Details = {}))
    })(n.Product || (n.Product = {}))
})(window.FrontEnd || (window.FrontEnd = {}));